(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{766:(e,r,t)=>{Promise.resolve().then(t.bind(t,1957))},1957:(e,r,t)=>{"use strict";t.d(r,{default:()=>R});var a=t(5155),o=t(2115),i=t(1574),c=t(4193),d=t(7855),n=t(7770),l=t(539),p=t(1294),s=t(670),g=t(2827),_=t(4627),h=t(4533),m=t(9714),f=t(740);let b=(0,m.Ay)(i.default)(e=>{let{theme:r}=e;return{"& .react-datepicker-popper":{zIndex:20,paddingTop:"".concat(r.spacing(.5)," !important")},"& .react-datepicker-wrapper":{width:"100%"},"& .react-datepicker__triangle":{display:"none"},"& .react-datepicker":{color:"#262b43e6",borderRadius:"10px",fontFamily:r.typography.fontFamily,backgroundColor:"#ffffff",boxShadow:"0px 4px 14px rgb(38 43 67 / 0.16)",border:"none","& .react-datepicker__header":{padding:0,border:"none",fontWeight:"normal",backgroundColor:"#ffffff","&:not(.react-datepicker-year-header)":{"& + .react-datepicker__month, & + .react-datepicker__year":{margin:r.spacing(2),marginTop:r.spacing(4.5)}},"&.react-datepicker-year-header":{"& + .react-datepicker__month, & + .react-datepicker__year":{margin:r.spacing(2),marginTop:r.spacing(1)}}},"& > .react-datepicker__navigation":{"&.react-datepicker__navigation--previous":{width:22,height:22,border:"none",top:12,left:15,..."ltr"===r.direction?{backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:22px;height:22px\\' viewBox=\\'0 0 22 22\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor","dark"===r.palette.mode?"rgb(234 234 255 / 0.7)":"rgb(38 43 67 / 0.7)").replace("#","%23"))}:{backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:22px;height:22px\\' viewBox=\\'0 0 22 22\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor","dark"===r.palette.mode?"rgb(234 234 255 / 0.7)":"rgb(38 43 67 / 0.7)").replace("#","%23"))},"& .react-datepicker__navigation-icon":{display:"none"}},"&.react-datepicker__navigation--next":{width:22,height:22,border:"none",top:12,left:"auto",right:15,..."ltr"===r.direction?{backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:22px;height:22px\\' viewBox=\\'0 0 22 22\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor","dark"===r.palette.mode?"rgb(234 234 255 / 0.7)":"rgb(38 43 67 / 0.7)").replace("#","%23"))}:{backgroundImage:"".concat("url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' style=\\'width:22px;height:22px\\' viewBox=\\'0 0 22 22\\'%3E%3Cpath fill=\\'currentColor\\' d=\\'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\\' /%3E%3C/svg%3E')".replace("currentColor","dark"===r.palette.mode?"rgb(234 234 255 / 0.7)":"rgb(38 43 67 / 0.7)").replace("#","%23"))},"& .react-datepicker__navigation-icon":{display:"none"}},"&.react-datepicker__navigation--next--with-time":"ltr"===r.direction?{right:127}:{left:127},"&:focus, &:active":{outline:0}},"& .react-datepicker__current-month, & .react-datepicker-year-header":{...r.typography.subtitle1,padding:r.spacing(1.5),paddingBottom:r.spacing(3),color:"#262b43e6"},"& .react-datepicker__day-name":{margin:0,width:"2.25rem",fontSize:"0.75rem",...r.typography.subtitle2,color:"#262b43e6"},"& .react-datepicker__day-names":{marginBottom:0},"& .react-datepicker__day":{margin:0,width:"2.25rem",borderRadius:"50%",lineHeight:"2.25rem",color:"#262b43e6",fontSize:r.typography.body1.fontSize,"&.react-datepicker__day--selected.react-datepicker__day--in-selecting-range.react-datepicker__day--selecting-range-start, &.react-datepicker__day--selected.react-datepicker__day--range-start.react-datepicker__day--in-range, &.react-datepicker__day--range-start":{borderRadius:"18px 0px 0px 18px;",color:"#fff !important",backgroundColor:"#666cff !important"},"&.react-datepicker__day--range-end.react-datepicker__day--in-range":{borderRadius:"0px 18px 18px 0px",color:"#fff !important",backgroundColor:"#666cff !important"},"&:focus, &:active":{outline:0},"&.react-datepicker__day--outside-month, &.react-datepicker__day--disabled:not(.react-datepicker__day--selected)":{color:"#262b4366","&:hover":{backgroundColor:"transparent"}},"&.react-datepicker__day--highlighted, &.react-datepicker__day--highlighted:hover":{color:"var(#72E128)",backgroundColor:"var(#72e12829)","&.react-datepicker__day--selected":{backgroundColor:"#666cff !important"}}},"& .react-datepicker__day--in-range, & .react-datepicker__day--in-selecting-range":{borderRadius:0,color:"#666cff !important",backgroundColor:"#666cff29 !important"},"& .react-datepicker__day--today":{fontWeight:"normal","&:not(.react-datepicker__day--selected):not(:empty)":{color:"#666cff",backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff3d"},"&.react-datepicker__day--keyboard-selected":{backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff29"}}}},"& .react-datepicker__month-text--today":{fontWeight:"normal","&:not(.react-datepicker__month-text--selected)":{lineHeight:"2rem",color:"1px solid #666cff",border:"1px solid #666cff","&:hover":{backgroundColor:"rgb(102 108 255 / 0.04)"}}},"& .react-datepicker__year-text--today":{fontWeight:"normal","&:not(.react-datepicker__year-text--selected)":{lineHeight:"2.125rem",color:"#666cff",border:"1px solid #666cff","&:hover":{backgroundColor:"rgb(102 108 255 / 0.04)"},"&.react-datepicker__year-text--keyboard-selected":{color:"#666cff",backgroundColor:"rgb(102 108 255 / 0.06)","&:hover":{color:"#666cff",backgroundColor:"rgb(102 108 255 / 0.06)"}}}},"& .react-datepicker__day--keyboard-selected":{"&:not(.react-datepicker__day--in-range)":{color:"#666cff",backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff29"}},"&.react-datepicker__day--in-range:not(.react-datepicker__day--range-end)":{backgroundColor:"rgb(102 108 255 / 0.12) !important","&:hover":{backgroundColor:"rgb(102 108 255 / 0.12) !important"}}},"& .react-datepicker__month-text--keyboard-selected":{"&:not(.react-datepicker__month--in-range)":{color:"#666cff",backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff29"}}},"& .react-datepicker__year-text--keyboard-selected, & .react-datepicker__quarter-text--keyboard-selected":{color:"#666cff",backgroundColor:"#666cff29"},"& .react-datepicker__day--selected, & .react-datepicker__month-text--selected, & .react-datepicker__year-text--selected, & .react-datepicker__quarter-text--selected":{color:"#fff !important",backgroundColor:"#666cff !important",boxShadow:"0px 2px 6px rgb(38 43 67 / 0.14)","&:hover":{backgroundColor:"#5b61e5 !important"}},"& .react-datepicker__header__dropdown":{"& .react-datepicker__month-dropdown-container:not(:last-child)":{marginRight:r.spacing(8)},"& .react-datepicker__month-dropdown-container, & .react-datepicker__year-dropdown-container":{marginBottom:r.spacing(4)},"& .react-datepicker__month-read-view--selected-month, & .react-datepicker__year-read-view--selected-year":{fontSize:"0.875rem",marginRight:r.spacing(1),color:"#262b43e6"},"& .react-datepicker__month-read-view:hover .react-datepicker__month-read-view--down-arrow, & .react-datepicker__year-read-view:hover .react-datepicker__year-read-view--down-arrow":{borderColor:"#262b43e6"},"& .react-datepicker__month-read-view--down-arrow, & .react-datepicker__year-read-view--down-arrow":{top:4,borderColor:"var(#262b43b3)"},"& .react-datepicker__month-dropdown, & .react-datepicker__year-dropdown":{paddingTop:r.spacing(2),paddingBottom:r.spacing(2),border:"none",borderRadius:"10px",backgroundColor:"#ffffff",boxShadow:"0px 6px 20px #262b432e;",'[data-skin="bordered"] &':{boxShadow:"none",border:"1px solid #262b431f"}},"& .react-datepicker__month-option, & .react-datepicker__year-option":{...r.typography.body1,padding:r.spacing(2,5),"&:first-of-type, &:last-of-type":{borderRadius:0},"&:hover":{backgroundColor:"#262b430f"}},"& .react-datepicker__month-option.react-datepicker__month-option--selected_month":{color:"#666cff",backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff3d"},"& .react-datepicker__month-option--selected":{display:"none"}},"& .react-datepicker__year-option.react-datepicker__year-option--selected_year":{color:"#666cff",backgroundColor:"#666cff29","&:hover":{backgroundColor:"#666cff3d"},"& .react-datepicker__month-option--selected":{display:"none"}},"& .react-datepicker__year-option":{"& .react-datepicker__navigation--years-upcoming":{width:9,height:9,borderStyle:"solid",borderWidth:"3px 3px 0 0",transform:"rotate(-45deg)",borderTopColor:"var(#262b43b3)",borderRightColor:"var(#262b43b3)",margin:"".concat(r.spacing(2.75)," auto ").concat(r.spacing(0))},"&:hover .react-datepicker__navigation--years-upcoming":{borderTopColor:"#262b43e6",borderRightColor:"#262b43e6"},"& .react-datepicker__navigation--years-previous":{width:9,height:9,borderStyle:"solid",borderWidth:"0 0 3px 3px",transform:"rotate(-45deg)",borderLeftColor:"var(#262b43b3)",borderBottomColor:"var(#262b43b3)",margin:"".concat(r.spacing(0)," auto ").concat(r.spacing(2.75))},"&:hover .react-datepicker__navigation--years-previous":{borderLeftColor:"#262b43e6",borderBottomColor:"#262b43e6"}}},"& .react-datepicker__week-number":{margin:0,width:"2.25rem",lineHeight:"2.25rem",fontSize:r.typography.body2.fontSize,color:"#262b43e6"},"& .react-datepicker__month-text, & .react-datepicker__year-text, & .react-datepicker__quarter-text":{margin:0,alignItems:"center",fontSize:r.typography.body1.fontSize,lineHeight:"2rem",display:"inline-flex",justifyContent:"center",borderRadius:"8px","&:focus, &:active":{outline:0}},"& .react-datepicker__year-wrapper":{maxWidth:205,justifyContent:"center"},"& .react-datepicker__input-time-container":{display:"flex",alignItems:"center",..."rtl"===r.direction?{flexDirection:"row-reverse"}:{}},"& .react-datepicker__today-button":{borderTop:0,borderRadius:"1rem",margin:r.spacing(0,4,4),color:"#fff",backgroundColor:"#666cff"},"&:not(.react-datepicker--time-only)":{"& .react-datepicker__time-container":{borderLeftColor:"#262b431f",[r.breakpoints.down("sm")]:{width:"5.5rem"},[r.breakpoints.up("sm")]:{width:"7.5625rem"}}},"&.react-datepicker--time-only":{width:"7.5625rem","& .react-datepicker__time-container":{width:"7.5625rem"}},"& .react-datepicker__time-container":{padding:r.spacing(.75,0),"& .react-datepicker-time__header":{...r.typography.subtitle2,marginBottom:r.spacing(3),marginTop:r.spacing(3),color:"#262b43e6"},"& .react-datepicker__time":{background:"#ffffff","& .react-datepicker__time-box .react-datepicker__time-list-item--disabled":{pointerEvents:"none",color:"#262b4366","&.react-datepicker__time-list-item--selected":{fontWeight:"normal",backgroundColor:"#262b4329"}}},"& .react-datepicker__time-list-item":{height:"auto !important",padding:"".concat(r.spacing(1.445,0)," !important"),marginLeft:r.spacing(4.25),marginRight:r.spacing(2.2),...r.typography.body1,color:"#262b43e6",borderRadius:"8px","&:focus, &:active":{outline:0},"&:hover":{backgroundColor:"#262b430f !important"},"&.react-datepicker__time-list-item--selected:not(.react-datepicker__time-list-item--disabled)":{fontWeight:"normal",color:"#fff !important",backgroundColor:"#666cff !important",boxShadow:"0px 2px 6px rgb(38 43 67 / 0.14)"}},"& .react-datepicker__time-box":{width:"100%"},"& .react-datepicker__time-list":{"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-track":{background:"#ffffff"},"&::-webkit-scrollbar-thumb":{borderRadius:10,background:"#aaa"},"&::-webkit-scrollbar-thumb:hover":{background:"#999"}}},"& .react-datepicker__day:hover, & .react-datepicker__month-text:hover, & .react-datepicker__quarter-text:hover, & .react-datepicker__year-text:hover":{backgroundColor:"#262b430f"},'[data-skin="bordered"] &':{boxShadow:"none",border:"1px solid #262b431f"}},"& .react-datepicker__close-icon":{paddingRight:r.spacing(4),..."rtl"===r.direction?{right:0,left:"auto"}:{},"&:after":{width:"unset",height:"unset",fontSize:"1.5rem",color:"#262b43e6",backgroundColor:"transparent !important"}}}}),k=e=>{let{boxProps:r,...t}=e;return(0,a.jsx)(b,{...r,children:(0,a.jsx)(f.Ay,{popperPlacement:"bottom-start",...t})})};var u=t(2262),x=t(5125),y=t(1001),v=t.n(y),w=t(5265),C=t(2021),S=t(193),j=t(9496);let L=e=>{let{id:r,open:t,onClose:c}=e,[d,n]=(0,o.useState)(null),l=(0,o.useCallback)(async()=>{if(t&&r){let{data:e}=await x.A.get("/api/v1/call-events/".concat(r));n(e)}},[r,t]);return(0,o.useEffect)(()=>{l()},[l]),(0,a.jsxs)(w.A,{fullWidth:!0,maxWidth:"md",open:t,sx:{"& .MuiPaper-root":{maxWidth:800}},children:[(0,a.jsxs)(C.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Call Event Details",(0,a.jsx)(S.A,{size:"small",onClick:c,children:(0,a.jsx)(u.In,{icon:"material-symbols:close-rounded"})})]}),(0,a.jsx)(j.A,{dividers:!0,children:(0,a.jsx)(i.default,{component:"pre",sx:{whiteSpace:"pre-wrap",lineBreak:"anywhere"},children:JSON.stringify(d,null,2)})})]})},R=()=>{let e=[{field:"call_id",flex:1,headerName:"Call ID",renderCell:e=>{let{row:r}=e;return r.call_id}},{width:350,field:"record",headerName:"Recorded Audio",renderCell:e=>{let{row:r}=e;return(0,a.jsx)(i.default,{component:"audio",controls:!0,sx:{width:"100%",height:35,my:1},children:(0,a.jsx)("source",{src:r.recording_url,type:"audio/mpeg"})})}},{flex:1,maxWidth:200,field:"fullname",headerName:"Name",renderCell:e=>{var r,t;let{row:a}=e;return"".concat(null==(r=a.request_data)?void 0:r.first_name," ").concat(null==(t=a.request_data)?void 0:t.last_name)}},{width:120,field:"from",headerName:"From",renderCell:e=>{let{row:r}=e;return r.from}},{width:120,field:"to",headerName:"To",renderCell:e=>{let{row:r}=e;return r.to}},{width:160,field:"created_at",headerName:"Appoint Datetime",renderCell:e=>{let{row:r}=e;return v()(r.created_at).format("YYYY-MM-DD HH:mm:ss")}},{width:120,field:"completed",headerName:"Status",renderCell:e=>{let{row:r}=e;return(0,a.jsx)(c.A,{label:r.completed?"Completed":"Pending",color:r.completed?"success":"warning",size:"small",sx:{width:"100%"}})}},{width:65,field:"action",headerName:"Action",renderCell:e=>{let{row:r}=e;return(0,a.jsx)(i.default,{sx:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(d.A,{variant:"outlined",sx:{minWidth:34,width:34,height:34,borderRadius:50,px:0},onClick:()=>M(r._id),children:(0,a.jsx)(u.In,{icon:"bi:eye"})})})}}],[r,t]=(0,o.useState)([]),[m,f]=(0,o.useState)(""),[b,y]=(0,o.useState)(v()().subtract(7,"days").toDate()),[w,C]=(0,o.useState)(v()().add(1,"days").toDate()),[S,j]=(0,o.useState)(0),[R,A]=(0,o.useState)({page:0,pageSize:10}),[E,z]=(0,o.useState)(""),[I,W]=(0,o.useState)(!1),M=e=>{z(e),W(!0)},D=(0,o.useCallback)(async()=>{if(b&&w){let{page:e,pageSize:r}=R,{data:a}=await x.A.get("/api/v1/call-events",{params:{search:m,startDate:b,endDate:w,page:e+1,limit:r}});t(a.events),j(a.total)}},[m,b,w,R]);return(0,o.useEffect)(()=>{D()},[D]),(0,a.jsx)("div",{children:(0,a.jsx)(n.default,{maxWidth:"xl",sx:{my:3},children:(0,a.jsxs)(l.A,{elevation:1,children:[(0,a.jsx)(p.A,{title:"Call Events",action:(0,a.jsxs)(i.default,{sx:{display:"flex",gap:1},children:[(0,a.jsx)(k,{selectsRange:!0,startDate:b,selected:b,endDate:w,rangeSeparator:" ~ ",dateFormat:"YYYY-MM-dd",shouldCloseOnSelect:!1,onChange:e=>{let[r,t]=e;y(r),C(t)},customInput:(0,a.jsx)(s.A,{fullWidth:!0,size:"small",label:"Period",slotProps:{input:{startAdornment:(0,a.jsx)(g.A,{position:"start",children:(0,a.jsx)(u.In,{icon:"bx:calendar"})})}}})}),(0,a.jsx)(s.A,{size:"small",placeholder:"Search...",value:m,onChange:e=>f(e.target.value),slotProps:{input:{startAdornment:(0,a.jsx)(g.A,{position:"start",children:(0,a.jsx)(u.In,{icon:"bx:search"})})}}})]})}),(0,a.jsxs)(_.A,{sx:{px:0,py:"0 !important"},children:[(0,a.jsx)(h.z,{rows:r,columns:e,getRowId:e=>e._id,paginationMode:"server",rowCount:S,onPaginationModelChange:A,pageSizeOptions:[5,10,20],sx:{borderRadius:0,borderLeft:0,borderRight:0,borderBottom:0,"& .MuiDataGrid-cell:focus, & .MuiDataGrid-cell:focus-within, & .MuiDataGrid-cell:focus-visible":{outline:"none !important"},"& .MuiDataGrid-cell":{cursor:"pointer",userSelect:"none"}}}),(0,a.jsx)(L,{id:E,open:I,onClose:()=>{W(!1)}})]})]})})})}}},e=>{e.O(0,[545,579,586,415,262,441,255,358],()=>e(e.s=766)),_N_E=e.O()}]);